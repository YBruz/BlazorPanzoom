@page "/transform"
@using BlazorPanzoom.Components
@using BlazorPanzoom.Events
@using BlazorPanzoom

<Demo Title="Adding on matrix functions to the transform" DemoType="GetType()">
    <div class="panzoom-parent">
        <Panzoom @ref="_panzoom" SetTransform="@OnSetTransform">
            <div style="width: 400px; margin: 0 auto" @ref="@context.ElementReference" class="panzoom">
                <img style="width: 100%; height: 100%" src="awesome_tiger.svg" alt="image"/>
            </div>
        </Panzoom>
    </div>
</Demo>

<Demo Title="Adding a transform to a child" DemoType="GetType()">
    <div class="panzoom-parent">
        <Panzoom>
            <div style="width: 400px; margin: 0 auto" @ref="@context.ElementReference" class="panzoom">
                <img style="width: 100%; height: 100%; transform: rotate(180deg)" src="awesome_tiger.svg" alt="image"/>
            </div>
        </Panzoom>
    </div>
</Demo>


@code {
    private Panzoom _panzoom;

    private async Task OnSetTransform(SetTransformEventArgs eventArgs)
    {
        await _panzoom.SetStyleAsync("transform", $"rotate({eventArgs.X / 20}deg) scale({eventArgs.Scale}) translate({eventArgs.X}px, {eventArgs.Y}px)");
    }
}